name: OS Builds on version
on:
  push:
    paths: 
      - 'package.json'
  workflow_dispatch:
defaults:
  run:
    working-directory: ./
jobs: 
  check-is-version-updated:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - id: check-is-version-updated
        uses: FreePhoenix888/is-npm-package-version-changed-github-action@1.0.0
      - run: 'echo ${{ steps.check-is-version-updated.outputs.is-version-changed }}'
    outputs:
      is-version-changed: '${{ steps.check-is-version-updated.outputs.is-version-changed }}'
  sync-electron-app-version:
    needs: check-is-version-updated
    runs-on: ubuntu-latest
    if: needs.check-is-version-updated.outputs.is-version-changed == 'true'
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
      - run: 'npm run sync-electron-app-version'